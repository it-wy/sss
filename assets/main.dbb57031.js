var e=Object.assign;import{an as t,ao as l,l as s,i as n,n as a,k as o,b as i,c,e as r,L as u,a7 as d,w as h,V as p,u as m,Y as v,$ as f,al as b,X as g,a as k,a5 as C,ap as x,W as w,J as A,z as y}from"./vendor.bf39f86d.js";import{u as F,a as R,s as L,_ as E,m as _,E as T,b as $}from"./index.e6181a61.js";import{_ as P}from"./AnimatedFlash.2f9ff679.js";const S=b();t("data-v-5abaa4bc");const z={class:"nav-list"},I={class:"nav-ul"};l();const q={expose:[],setup(e){const t=F();R();const l=s((()=>({navList:[...L.state.routes]}))),b=(e,l)=>{null!=l&&null!=e.path?(t.push(`${l.path}/${e.path}`),e.isActive=!0):(e.children.length>1||e.hidden)&&(e.isActive=!e.isActive)},g=e=>{l.value.navList.forEach((t=>{const l=t;if(l.children&&e.includes(t.path)){if(l.children.some((t=>"/home"==e&&"home"==t.path?l.isActive=!0:l.isActive=e.includes(t.path.substr(0,t.path.indexOf(":")))&&"home"!=t.path)),l.isActive)for(const s of l.children){if(e.split("/").length-1>=3&&e.includes(s.path.substr(0,s.path.indexOf(":"))))return void(s.isActive=!0);s.isActive=e.includes(s.path)}}else l.isActive=t.path===e;return l}))},k=s((()=>L.state.skinChoose));return n((()=>t.currentRoute.value),(e=>{g(e.path)})),a((()=>{g(t.currentRoute.value.path)})),S(((e,s)=>{const n=o("el-collapse-transition");return i(),c("aside",{class:"nav",style:{background:m(k).asideBackground}},[r("ul",z,[(i(!0),c(u,null,d(m(l).navList,((e,l)=>h((i(),c("li",{class:["nav-item flex-center",{active:e.isActive&&e.children&&!e.hidden}],key:l,onClick:l=>{return s=e,void(t.currentRoute.value.path.split("/").length-1>=3&&s.children.length>1||s.children.length>1&&t.currentRoute.value.path.includes(s.path)||t.push(s.path));var s},style:{background:m(k).asideBackground}},[r("div",{class:[e.hidden?"nav-flex-child":"nav-flex-1","flex-a"],onClick:t=>b(e)},[r("i",{class:["icon-l",e.meta.icon],style:{color:!e.isActive||e.hidden?m(k).asideColor:m(k).activeColor}},null,6),r("span",{style:{color:m(k).asideColor}},v(e.meta.title),5),h(r("i",{style:{color:m(k).asideColor},class:["ri-arrow-right-s-line","ml-9",{rolatex:e.isActive,rolatey:!e.isActive}]},null,6),[[p,e.children&&e.hidden]])],10,["onClick"]),r(n,null,{default:S((()=>[h(r("ul",I,[(i(!0),c(u,null,d(e.children,((t,l)=>h((i(),c("li",{onClick:f((l=>b(t,e)),["stop"]),key:l,class:{active:t.isActive},style:{background:m(k).asideBackground,color:m(k).asideColor}},v(t.meta.title),15,["onClick"])),[[p,t.meta.hidden]]))),128))],512),[[p,e.isActive&&e.hidden]])])),_:2},1024)],14,["onClick"])),[[p,(null==e?void 0:e.children)||!1]]))),128))])],4)}))},__scopeId:"data-v-5abaa4bc"},B=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],j=(()=>{const e=B[0],t={};for(const l of B){if((null==l?void 0:l[1])in document){for(const[s,n]of l.entries())t[e[s]]=n;return t}}return!1})(),M={change:j.fullscreenchange,error:j.fullscreenerror};let O={request:(e=document.documentElement,t)=>new Promise(((l,s)=>{const n=()=>{O.off("change",n),l()};O.on("change",n);const a=e[j.requestFullscreen](t);a instanceof Promise&&a.then(n).catch(s)})),exit:()=>new Promise(((e,t)=>{if(!O.isFullscreen)return void e();const l=()=>{O.off("change",l),e()};O.on("change",l);const s=document[j.exitFullscreen]();s instanceof Promise&&s.then(l).catch(t)})),toggle:(e,t)=>O.isFullscreen?O.exit():O.request(e,t),onchange(e){O.on("change",e)},onerror(e){O.on("error",e)},on(e,t){const l=M[e];l&&document.addEventListener(l,t,!1)},off(e,t){const l=M[e];l&&document.removeEventListener(l,t,!1)},raw:j};Object.defineProperties(O,{isFullscreen:{get:()=>Boolean(document[j.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return null!=(e=document[j.fullscreenElement])?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[j.fullscreenEnabled])}}),j||(O={isEnabled:!1});var V=O;const N={data:()=>({show:!1,idx:-1,searchVal:""}),components:{AnimatedFlash:P,serachBar:E},computed:e({},_({skinChoose:e=>e.skinChoose})),methods:{toScreenfull(){V.toggle()},close(){T.confirm("此操作将退出系统, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{$({type:"success",message:"退出成功!",duration:200}),setTimeout((()=>{localStorage.setItem("user",""),localStorage.setItem("Admin-Token",""),this.$router.push("/login")}),200)})).catch((()=>{$({type:"info",message:"已取消"})}))}}},D=b();t("data-v-168801b2");const H=r("p",null,"Purer-Admin",-1),U={class:"flex-box-a"},J=r("i",{class:"ri-search-line",style:{"font-size":"16px"}},null,-1),W=r("img",{src:"https://gw.alipayobjects.com/zos/antfincdn/FLrTNDvlna/antv.png"},null,-1);l();const X=D(((e,t,l,s,n,a)=>{const u=o("el-input"),d=o("AnimatedFlash");return i(),c("div",{class:"head",style:{background:e.skinChoose.asideBackground}},[r("div",{class:"head-txt",style:{color:e.skinChoose.asideColor}},[H],4),r("div",U,[r(u,{style:{"margin-right":"10px"},modelValue:n.searchVal,"onUpdate:modelValue":t[1]||(t[1]=e=>n.searchVal=e),placeholder:"请输入模块名称/ctrl k"},{prefix:D((()=>[J])),_:1},8,["modelValue"]),r("i",{title:"全屏",class:"ri-fullscreen-fill",onClick:t[2]||(t[2]=(...e)=>a.toScreenfull&&a.toScreenfull(...e)),style:{color:e.skinChoose.asideColor,fontSize:"19px",cursor:"pointer"}},null,4),r("i",{title:"中英文",class:"ri-global-line",onClick:t[3]||(t[3]=t=>e.$i18n.locale="zh-CN"===e.$i18n.locale?"en-US":"zh-CN"),style:{color:e.skinChoose.asideColor,marginLeft:"10px",fontSize:"19px",cursor:"pointer"}},null,4),r("div",{class:"avatar",alt:"",onMousemove:t[8]||(t[8]=e=>n.show=!0),onMouseleave:t[9]||(t[9]=e=>n.show=!1),style:{"margin-left":"20px"}},[W,h(r(d,{animateName:"fadeInDown",duration:"0.3",speed:"ease",count:"1",style:{position:"relative","z-index":"999"}},{default:D((()=>[r("ul",null,[r("li",null,[r("span",{onMousemove:t[4]||(t[4]=e=>n.idx=1),class:{active:1==n.idx}},v(e.$t("common.hello")),35)]),r("li",null,[r("span",{onMousemove:t[5]||(t[5]=e=>n.idx=2),class:{active:2==n.idx}},v(e.$t("common.personalCenter")),35)]),r("li",null,[r("span",{onMousemove:t[6]||(t[6]=e=>n.idx=3),class:{active:3==n.idx},onClick:t[7]||(t[7]=(...e)=>a.close&&a.close(...e))},v(e.$t("common.quit")),35)])])])),_:1},512),[[p,n.show]])],32)])],4)}));N.render=X,N.__scopeId="data-v-168801b2";const Y={data:()=>({isRotating:!1}),inject:["reload"],created(){this.$store.dispatch("initTabs")},computed:e({},_({tabActive:e=>e.app.tabActive,tabsList:e=>e.app.tabsList,keepAliveRoutes:e=>e.user.keepAliveRoutes})),methods:{async startRotation(){this.isRotating=!0,await this.reload()&&(this.isRotating=!1)},tabClick(e){this.$store.dispatch("clickTab",e.index)},tabRemove(e){let t=this.keepAliveRoutes;const l=this.tabsList.findIndex((t=>t.fullPath==e));let s=this.tabsList[l].name;const n=t.findIndex((e=>e==s));t.splice(n,1),e==this.$route.fullPath?this.$store.dispatch("closeCurrentTab",{fullPath:e,type:"current"}):this.$store.dispatch("closeCurrentTab",{fullPath:e,type:"other"})},closeCurrent(){if(1==this.tabsList.length)return $("最少保留一个标签哦！");let e=this.keepAliveRoutes;const t=e.findIndex((e=>e==this.$route.name));e.splice(t,1),this.$store.dispatch("closeCurrentTab",{fullPath:this.$route.fullPath,type:"current"})},closeOther(){this.$store.dispatch("closeOtherTabs",{fullPath:this.$route.fullPath})}}},G=b();t("data-v-7c7bf43d");const K={class:"tabs-box"},Q={class:"tabs-left"},Z={class:"tab-label"},ee={style:{"margin-left":"5px"}},te=r("div",{class:"tabs-menu"},[r("i",{class:"ri-apps-fill",style:{"font-size":"20px"}})],-1),le=g("关闭当前"),se=g("关闭其他");l();const ne=G(((e,t,l,s,n,a)=>{const h=o("el-tab-pane"),p=o("el-tabs"),m=o("el-dropdown-item"),f=o("el-dropdown-menu"),b=o("el-dropdown");return i(),c("div",K,[r("div",Q,[r(p,{"model-value":e.tabActive,type:"card",closable:e.tabsList.length>1,onTabRemove:a.tabRemove,onTabClick:a.tabClick},{default:G((()=>[(i(!0),c(u,null,d(e.tabsList,(e=>(i(),c(h,{key:e.fullPath,name:e.fullPath},{label:G((()=>[r("div",Z,[r("i",{class:e.meta.icon},null,2),r("span",ee,v(e.meta.title),1)])])),_:2},1032,["name"])))),128))])),_:1},8,["model-value","closable","onTabRemove","onTabClick"])]),r("i",{class:["ri-restart-line refresh-icon",{rotating:n.isRotating}],onClick:t[1]||(t[1]=(...e)=>a.startRotation&&a.startRotation(...e)),style:{"font-size":"20px"}},null,2),r(b,{placement:"bottom-start"},{dropdown:G((()=>[r(f,null,{default:G((()=>[r(m,{onClick:a.closeCurrent,disabled:!(e.tabsList.length>1)},{default:G((()=>[le])),_:1},8,["onClick","disabled"]),r(m,{onClick:a.closeOther,disabled:!(e.tabsList.length>1)},{default:G((()=>[se])),_:1},8,["onClick","disabled"])])),_:1})])),default:G((()=>[te])),_:1})])}));Y.render=ne,Y.__scopeId="data-v-7c7bf43d";const ae={components:{Aside:q,Header:N,Tabs:Y},data:()=>({pictLoading:!0}),provide(){return{reload:this.reload}},computed:e({},_({tabActive:e=>e.app.tabActive,tabsList:e=>e.app.tabsList,keepAliveRoutes:e=>e.user.keepAliveRoutes})),methods:{reload(){return new Promise(((e,t)=>{this.pictLoading=!0,setTimeout((()=>{this.pictLoading=!1,e(!0)}),500)}))}},setup(){const e=F(),t=k(!1),l=y(),s=e=>{(null==l?void 0:l.proxy.tabsList.some((t=>{if(t.fullPath==e&&t.load)return!0})))||(t.value=!0,setTimeout((()=>{t.value=!1}),200))};return n((()=>e.currentRoute.value),(e=>{s(e.path)})),a((()=>{s(e.currentRoute.value.path)})),{pictLoading:t}}},oe=b();t("data-v-4c85c504");const ie={class:"main"},ce={class:"header"},re={class:"wrap"},ue={class:"left"},de={class:"content"},he={class:"wrap-content"};l();const pe=oe(((e,t,l,s,n,a)=>{const u=o("Header"),d=o("Aside"),p=o("Tabs"),m=o("router-view"),v=o("el-main"),f=C("loading");return i(),c("div",ie,[r("div",ce,[r(u)]),r("div",re,[r("div",ue,[r(d)]),r("div",de,[r(p),r("div",he,[h(r(v,{class:"container","element-loading-background":"rgba(0, 0, 0, 0.1)","element-loading-text":"页面正在加载中"},{default:oe((()=>[s.pictLoading?A("",!0):(i(),c(m,{key:0},{default:oe((({Component:e})=>[(i(),c(x,null,[(i(),c(w(e)))],1024))])),_:1}))])),_:1},512),[[f,s.pictLoading]])])])])])}));ae.render=pe,ae.__scopeId="data-v-4c85c504";export default ae;
